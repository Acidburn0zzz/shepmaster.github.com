
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Jake Goulding</title>
  <meta name="author" content="Jake Goulding">

  
  <meta name="description" content="If you combine refactoring and making a change to your code into the
same commit, you are going to have a bad time. ">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jakegoulding.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Jake Goulding" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-20521797-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jake Goulding</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jakegoulding.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/04/refactor-and-make-changes-in-different-commits/">Refactor and make changes in different commits</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-04T14:31:00-05:00" pubdate data-updated="true">Nov 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you combine refactoring and making a change to your code into the
same commit, you are going to have a bad time.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/04/refactor-and-make-changes-in-different-commits/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/18/run-your-tests-in-a-deterministic-random-order/">Run your tests in a deterministic random order</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-18T18:56:00-04:00" pubdate data-updated="true">Oct 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Running your tests in a random order is a good idea to help shake out
implicit dependencies between tests. Running your tests in a
deterministic random order is even better.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/18/run-your-tests-in-a-deterministic-random-order/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/10/watch-out-for-lost-updates-when-using-capybara-with-selenium/">Watch out for lost updates when using Capybara with Selenium</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-10T19:41:00-04:00" pubdate data-updated="true">Oct 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At work, I am still working on finding and squashing fun test
failures. In this case, &#8220;fun&#8221; means tests that have an intermittent
failure rate of 5% (or less!). The test issue I worked on today had to
do with the &#8220;lost update&#8221; problem.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/10/watch-out-for-lost-updates-when-using-capybara-with-selenium/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/08/finding-a-race-condition-in-capybara-with-selenium/">Finding a race condition in Capybara with Selenium</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-08T20:40:00-04:00" pubdate data-updated="true">Oct 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At work, we&#8217;ve been using <a href="https://github.com/jnicklas/capybara">Capybara</a> and
<a href="https://code.google.com/p/selenium/">Selenium</a> to test our newest web application. Many of us
have used this combination before for our own projects, but it&#8217;s new
territory for a work project.</p>

<p>Every so often, we would get this error from a specific test:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Selenium::WebDriver::Error::StaleElementReferenceError:
</span><span class='line'>  Element not found in the cache - perhaps the page has changed since it was looked up</span></code></pre></td></tr></table></div></figure>


<p>The error was intermittent, so we fell into the seductive but
dangerous trap of simply rerunning our tests whenever it
failed. Recently, I had a bit of time and decided to dig into it and
fix it once and for all.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/08/finding-a-race-condition-in-capybara-with-selenium/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/03/name-your-variables-by-the-roles-they-play/">Name your variables by the roles they play</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-03T19:49:00-04:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Have you ever seen a variable with a terrible name? This is of course
a trick question; everyone has. I&#8217;d like to look at a particular
variable-naming annoyance: naming the variable based on the class
name.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/03/name-your-variables-by-the-roles-they-play/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/01/using-ruby-blocks-to-ensure-resources-are-cleaned-up/">Using Ruby blocks to ensure resources are cleaned up</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-01T18:05:00-04:00" pubdate data-updated="true">Oct 1<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In programming, cleaning up resources you have created is an
easily-overlooked problem. In languages like C, you have to clean up
everything by hand: memory, files, network sockets, etc. Languages
that have a garbage collector take away the need to explicitly free
memory, but you still have to manage the other resources.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/01/using-ruby-blocks-to-ensure-resources-are-cleaned-up/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/26/be-careful-when-using-junit-expected-exceptions/">Be careful when using JUnit&#8217;s expected exceptions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-26T18:52:00-04:00" pubdate data-updated="true">Sep 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For many people, JUnit is the grand-daddy of testing frameworks. Even
though other testing frameworks came first, a lot of people got their
start with JUnit.</p>

<p>People often start out testing with simple Boolean assertions, then
move on substring matching, then maybe on to mocks and stubs. At some
point, however, most people want to assert that their code throws a
particular exception, and that&#8217;s where our story starts.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/09/26/be-careful-when-using-junit-expected-exceptions/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/24/a-refactoring-example-if-else-on-strings/">A refactoring example: lots of if-else statements on strings</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-24T12:00:00-04:00" pubdate data-updated="true">Sep 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently did a bit of work that turned out to be a great exercise
for refactoring a huge sequence of if-else statements based on
strings. There are a few ugly bits left, so I&#8217;m still poking at it,
but I am pleased with my progress so far.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/09/24/a-refactoring-example-if-else-on-strings/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/01/the-stages-of-code-review/">The stages of code review</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-01T13:37:00-04:00" pubdate data-updated="true">Jul 1<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We recently started using <a href="http://code.google.com/p/gerrit/">gerrit</a> to perform code reviews for
a legacy C codebase that I work on. I also help out on a couple of
newer Java and Ruby projects that have had the benefit of having code
reviews and testing infrastructure from day one.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/07/01/the-stages-of-code-review/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/03/attaching-top-level-methods-to-an-object-in-ruby/">Attaching top-level methods to an object in Ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-03T10:48:00-05:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sometimes when you are doing rapid development, you need to create a
new method <em>right now</em>, but you don&#8217;t put the method in the right
spot. Maybe you aren&#8217;t sure what object should ultimately have the
functionality. Maybe you are simply too lazy to open the correct
file. Whatever the reason, you decide to define the method right there
at the top-level, pretending you are a procedural programmer.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/03/03/attaching-top-level-methods-to-an-object-in-ruby/">Continue reading &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/11/04/refactor-and-make-changes-in-different-commits/">Refactor and make changes in different commits</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/18/run-your-tests-in-a-deterministic-random-order/">Run your tests in a deterministic random order</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/10/watch-out-for-lost-updates-when-using-capybara-with-selenium/">Watch out for lost updates when using Capybara with Selenium</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/08/finding-a-race-condition-in-capybara-with-selenium/">Finding a race condition in Capybara with Selenium</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/03/name-your-variables-by-the-roles-they-play/">Name your variables by the roles they play</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("jakegoulding", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/jakegoulding" class="twitter-follow-button" data-show-count="false">Follow @jakegoulding</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Jake Goulding -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
